<app>
	<div>
		<!--Header-->
		<header>PDF/Image Viewer/Uploader</header>

		<!-- Screen -->
		<section>
			<h2>Download</h2>
			<button class="fa fa-file" type="button" onclick={clickDownload}> Download</button>
			<pdf-img-viewer-uploader></pdf-img-viewer-uploader>
		</section>

		<section>
			<h2>Upload with popup &amp; progress bar</h2>
			<pdf-img-viewer-uploader></pdf-img-viewer-uploader>
			<button class="fa fa-arrow-right" type="button" onclick={clickNext}> Next</button>
		</section>
	</div>

	<footer>Trust ID 2017</footer>

	<!-- Popups -->
	<popup>
		<h2>Downloading image...</h2>
    <p>
      TESTING
    </p>
	</popup>

	<!-- App code -->
	<script>
		// 2. fix popup.tag.html
		//		html and css - from site.css and identity.tag
		//		yield title/content, div clear?

		// 3. fix pdf-img-viewer-uploader
		//		html and css - from site.css and identity.tag
		//		download on click
		// 		during download popup and spinner
		//		<spinner>

		//		click pdf-img-viewer-uploader = file open
		//		upload on click next
		// 		during upload popup and spinner

		// 4. Future = webcam for laptop


		console.log('app.tag.html')

		import $ from 'jquery'
		import '../../node_modules/font-awesome/css/font-awesome.css'
		import "../../node_modules/UploaderJS/uploader.js" // adds window.Uploader
		import './pdf-img-viewer-uploader.tag.html'
		import '../popup/popup.tag.html'

		var tag = this

		// DEBUG: console hacking
		window.app = tag

		this.on('mount', function(){
			tag.popup = this.tags['popup'];
		})

		this.clickDownload = (e) => {
			// show popup
			tag.popup.Show()

			// download = fetch + express.json
			// on response = close popup,
			//		then show img = fix viewer
		}

		this.clickNext = (e) => {
			UploadPic()
		}

	</script>
</app>
